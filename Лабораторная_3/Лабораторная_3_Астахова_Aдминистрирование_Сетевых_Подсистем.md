**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ**

> **НАРОДОВ**

**Факультет физико-математических и естественных**

**наук**

**Кафедра теории вероятностей и кибербезопасности**

**Отчет лабораторной работы 3**

**Дисциплина:** Администрирование сетевых подсистем

Студент: Астахова Марина

Группа: НПИбд-02-23

***Тема: Настройка DHCP-сервера***

***3***

***.1. Цель работы.***

Приобретение практических навыков по установке и конфигурированию

DHCP сервера.

***3***

***.2. Выполнение работы***

3

.2.1. Установка DHCP-сервера

Установим dhcp

3

.2.2. Конфигурирование DHCP-сервера

Открыли файл /etc/kea/kea-dhcp4.conf и отредактировали

Проверили правильность конфигурационного файла:

Перезагрузили конфигурацию dhcpd и разрешили загрузку

DHCP-сервера при запуске виртуальной машины server

Добавили запись для DHCP-сервера в конце файла прямой DNS-зоны

/

var/named/master/fz/astakhovamd.net:

и в конце файла обратной зоны /var/named/master/rz/192.168.1:

Перезапустим named и скорректируем права доступа

Внесли изменения в настройки межсетевого экрана узла server, разрешив

работу с DHCP:

Восстановили контекст безопасности в SELinux

В дополнительном терминале запустили мониторинг происходящих в

системе процессов в реальном времени:

В основном рабочем терминале запустили DHCP-сервер:

3

.2.3. Анализ работы DHCP-сервера

1

. Отредактировали файл 01-routing

Файл "до"

Файл "после"

2

. Vagrantfile добавили код:

3

. Фиксируем изменения командой:

4

. Вошли в систему виртуальной машины client под вашим пользователем

и откройте терминал. В терминале ввели ifconfig

Создали ключ на сервере с Bind9 (на виртуальной машине server):

Файл /etc/named/keys/dhcp_updater.key

Поправили права доступа

Подключили ключ в файле /etc/named.conf

На виртуальной машине server под пользователем с правами

суперпользователя отредактировали файл /etc/named/astakhovamd.net ,

разрешив обновление зоны:

Запустили службу ddns: systemctl enable \--now kea-dhcp-ddns.service и

проверили статус работы службы

Внесли изменения в конфигурационный файл /etc/kea/kea-dhcp4.conf

Проверили файл на наличие возможных синтаксических ошибок:

3

.2.4 Внесение изменений в настройки внутреннего окружения

виртуальной машины

В каталоге /vagrant/provision/server создали исполняемый файл dhcp.sh:

Добавили изменения в Vagrantfile:

***3***

***.3. Итог работы***

Приобрели практические навыки по установке и конфигурированию

DHCP сервера.

***3***

***.4 Контрольные вопросы:***

[1]{.underline}

[. В каких файлах хранятся настройки сетевых подключений?]{.underline}

**1**

**. Настройки сетевых подключений хранятся в файлах конфигурации**

**TCP/IP**. В них содержится информация о сети, в частности имена
хост-машин и

доменов, IP-адреса и характеристики интерфейсов.

[2]{.underline}

[. За что отвечает протокол DHCP?]{.underline}

**2**

**. Протокол DHCP (Dynamic Host Configuration Protocol) отвечает за**

**автоматическое назначение IP-адресов и других параметров** для
устройств

в сети. DHCP функционирует по модели «клиент-сервер».

[3]{.underline}

[. Поясните принцип работы протокола DHCP. Какими]{.underline}

[сообщениями обмениваются клиент и сервер, используя]{.underline}

[протокол DHCP?]{.underline}

**Принцип работы**

Протокол работает в парадигме «клиент-сервер» и опирается на принцип

**DORA** (Discovery --- обнаружение, Offer --- предложение, Request ---
запрос,

Acknowledge --- подтверждение). Процесс состоит из четырёх этапов:

[2domains.reg.partnersreg.clo](https://2domains.reg.partners/support/obshchiyevoprosy/protokol-dhcp)[udServerGate.ru](https://reg.cloud/support/dedicated-and-dc/administrirovaniye-vydelennykh-serverov/protokol-dhcp)

**DHCP Discover (Обнаружение)** --- клиент отправляет широковещательный

запрос, пытаясь найти DHCP-сервер.

**DHCP Offer (Предложение)** --- сервер получает запрос и отвечает
пакетом

DHCP Offer, предлагая свободный IP-адрес из своего пула адресов вместе с

другими сетевыми параметрами.

**DHCP Request (Запрос)** --- клиент получает предложение и отвечает
серверу

сообщением DHCP Request, подтверждая готовность принять предложенные

параметры.

**DHCP Acknowledgment (Подтверждение)** --- сервер подтверждает

назначение IP-адреса и отправляет клиенту окончательные параметры.

**Сообщения**

Некоторые сообщения, которыми обмениваются клиент и сервер при

использовании протокола DHCP:

**DHCPDISCOVER** --- клиент отправляет широковещательное сообщение,
чтобы

найти доступные DHCP-серверы.

**DHCPOFFER** --- сервер выбирает доступный IP-адрес из пула и
отправляет его

клиенту в ответном сообщении.

**DHCPREQUEST** --- клиент отправляет серверу ответное сообщение, в
котором

ещё раз прописывает полученный адрес и подтверждает, что будет

использовать его.

**DHCPACK** --- сервер отправляет сообщение, которое закрепляет IP-адрес
за

клиентом. В сообщении содержится сам адрес, срок его использования и

дополнительные настройки сети.

[4]{.underline}

[. В каких файлах обычно находятся настройки DHCP-сервера?]{.underline}

[За что отвечает каждый из файлов?]{.underline}

**Настройки DHCP-сервера обычно находятся в разных файлах в**

**зависимости от операционной системы**. Эти файлы содержат сетевую

информацию для клиентов, а также базу данных с информацией об аренде

адресов.

[5]{.underline}

[. Что такое DDNS? Для чего применяется DDNS?]{.underline}

**DDNS (динамическая система доменных имён)** --- это сервис, который

обеспечивает соответствие между постоянным доменным именем и

динамическим IP-адресом

**DDNS применяется для следующих целей**:

1

2

3

. удобное управление роутером или веб-камерой;

. доступ к домашнему игровому серверу или удалённому компьютеру;

. получение доступа к файлам, которые хранятся на FTP, установленном

> на роутере;

4

5

. подключение к домашней системе видеонаблюдения;

. настройка системы «Умный дом» и т. д.

[6]{.underline}

[. Какую информацию можно получить, используя утилиту]{.underline}

[ifconfig? Приведите примеры с использованием различных]{.underline}

[опций.]{.underline}

**Утилита ifconfig** --- это инструмент для настройки и отображения
информации

о сетевых интерфейсах в Unix-подобных системах.

Основная информация, которую можно получить:

1

2

3

4

5

6

7

8

. Статус сетевых интерфейсов (включён/выключен)

. IP-адреса (IPv4 и IPv6)

. Маску подсети

. MAC-адрес

. Статистику по переданным/принятым пакетам

. Настройки MTU (максимальная единица передачи)

. Флаги состояния интерфейса

.

*[Примеры использования:]{.underline}*

**Базовый просмотр всех интерфейсов:**

ifconfig

Показывает все активные интерфейсы и их основные параметры.

**Просмотр конкретного интерфейса:**

ifconfig eth0

Отображает информацию только об интерфейсе eth0.

**Настройка IP-адреса:**

ifconfig eth0 192.168.1.10 netmask 255.255.255.0 up

[7]{.underline}

[. Какую информацию можно получить, используя утилиту ping?]{.underline}

[Приведите примеры с использованием различных опций.]{.underline}

**Утилита ping** --- это инструмент для проверки доступности и качества
сетевого

соединения между двумя узлами сети.

Основная информация, которую можно получить с помощью ping:

1

2

3

4

. Время отклика (latency) --- задержка при передаче данных.

. Доступность узла в сети.

. Потеря пакетов (packet loss).

. Качество сетевого соединения.

[Примеры использования с различными опциями:]{.underline}

**Базовая проверка** доступности:

ping google.com

Показывает базовую информацию о времени отклика и потерях пакетов.

**Ограничение количества запросов**:

ping -c 5 ya.ru

Выполнит только 5 запросов к указанному хосту.

**Изменение интервала между запросами**:

ping -i 2 wikipedia.org
