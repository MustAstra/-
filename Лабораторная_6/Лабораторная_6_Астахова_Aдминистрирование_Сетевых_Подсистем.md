**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ**

> **НАРОДОВ**

**Факультет физико-математических и естественных**

**наук**

**Кафедра теории вероятностей и кибербезопасности**

**Отчет лабораторной работы 6**

**Дисциплина:** Администрирование сетевых подсистем

Студент: Астахова Марина

Группа: НПИбд-02-23

***Тема:** Установка и настройка системы управления*

*базами данных MariaDB*

***6***

***.1. Цель работы.***

Приобретение практических навыков по установке и конфигурированию

системы управления базами данных на примере программного

обеспечения MariaDB.

***6***

***.2. Выполнение работы***

*1*

*. Установите необходимые для работы MariaDB пакеты.*

УстановкаMariaDB.

После установки пакетов убедились, что mariadb прослушивает порт

Просмотрели список команд MySQL, введя \\h.

Из приглашения интерактивной оболочки MariaDB для отображения

доступных в настоящее время баз данных ввели MySQL-запрос

*2*

*. Конфигурация кодировки символов*

В каталоге /etc/my.cnf.d создали файл utf8.cnf, открыли его на

редактирование и указали в нём следующую конфигурацию:

*3*

*. В базе данных MariaDB создайте тестовую базу addressbook,*

*содержащую таблицу city с полями name и city, т.е., например,*

*для некоторого сотрудника указан город, в котором он*

*работает. Создание базы данных.*

Здесь мы завели addressbook и добавили через запросы фамилии Иванов ,

Петров и Сидоров с городами Москва, Сочи и Дубна.

Добавили пароль для базы данных и посмотрели общую информацию о

таблицах

*4*

*. Создайте резервную копию базы данных addressbook и*

*восстановите из неё данные. Резервные копии.*

*5*

*. Напишите скрипт для Vagrant, фиксирующий действия по*

*установке и настройке базы данных MariaDB во внутреннем*

*окружении виртуальной машины server. Соответствующим*

*образом следует внести изменения в Vagrantfile.*

*Внесение изменений в настройки внутреннего окружения*

*виртуальной машины.*

*В данном каталоге создали файл mysql.sh и прописали код*

Добавляем изменения в vagrantfile

***6***

***.3. Итог работы***

*Были приобретены практические навыки по установке и*

*конфигурированию систем управления базами данных на*

*примере программного обеспечения MariaDB.*

***6***

***.4 Контрольные вопросы***

***Какая команда отвечает за настройки безопасности в MariaDB?***

**Команда:** *sudo mysql_secure_installation*

**Пояснение:** Эта интерактивная утилита помогает выполнить

первоначальную настройку безопасности, такую как установка пароля для

пользователя *root* базы данных, удаление анонимных пользователей,

запрет удаленного входа для *root* и удаление тестовой базы данных.

***Как настроить MariaDB для доступа через сеть?***

**Шаги:**

1

2

. Изменить файл конфигурации:

. Откройте основной конфигурационный файл MariaDB. На Ubuntu

2

2.04 это обычно /etc/mysql/mariadb.conf.d/50-server.cnf или

/

etc/mysql/my.cnf (который может включать другие файлы).

3

4

. Найдите строку bind-address = 127.0.0.1 (или bind-address = ::1 для

> IPv6).

. Измените ее на bind-address = 0.0.0.0 (для доступа со всех IP-

> адресов) или на конкретный IP-адрес сетевого интерфейса, через
>
> который вы хотите разрешить доступ.

5

6

7

8

. Сохраните изменения и закройте файл.

. Перезапустить службу MariaDB

. Настроить брандмауэр (UFW)

. Разрешите входящие соединения на порт MariaDB (по умолчанию

3

306\)

9

. Создать пользователя и предоставить ему права: Подключитесь к

> MariaDB от имени root и создайте пользователя, который сможет
>
> подключаться удаленно

***Какая команда позволяет получить обзор доступных баз данных после***

***входа в среду оболочки MariaDB?***

**Команда:** SHOW DATABASES;

**Пояснение:** Выполняется после подключения к MariaDB через клиент

mysql.

***Какая команда позволяет узнать, какие таблицы доступны в базе***

***данных?***

**Команды:**

1

2

. Сначала выберите базу данных: USE database_name;

. Затем покажите таблицы: SHOW TABLES;

***Какая команда позволяет узнать, какие поля доступны в таблице?***

**Команды:**

1

2

. DESCRIBE table_name;

. SHOW COLUMNS FROM table_name;

***Как удалить запись из таблицы?***

**Команда:**

DELETE FROM table_name WHERE condition;

**Пояснение:**

WHERE condition очень важен, чтобы удалить только нужные записи.

***Где расположены файлы конфигурации MariaDB? Что можно***

***настроить с их помощью?***

Расположение:

На Ubuntu 22.04 основной конфигурационный файл находится по пути

/

> etc/mysql/my.cnf.

Однако, чаще всего my.cnf включает другие файлы из директорий:

> etc/mysql/conf.d/

/

/

etc/mysql/mariadb.conf.d/ (наиболее часто используемая директория для

настроек сервера MariaDB на Ubuntu, например, 50-server.cnf,
50-client.cnf

и т.д.)

**Что можно настроить:**

1

. *Сетевые параметры:* bind-address (IP-адрес для прослушивания),

> port (порт).

2

3

. *Кодировки:* character_set_server, collation_server (для UTF-8).

. *Производительность:* innodb_buffer_pool_size, key_buffer_size,

> max_connections, query_cache_size.

4

. *Логирование:* log_error (файл логов ошибок), general_log (общий лог

> запросов), slow_query_log (лог медленных запросов).

. *Пути к данным*: datadir (директория с базами данных).

. *Безопасность:* skip-networking (отключить сетевой доступ), local-

> infile.

5

6

И многое другое, влияющее на поведение и ресурсы сервера.

***Где располагаются файлы с базами данных MariaDB?***

*Расположение:* По умолчанию файлы баз данных MariaDB располагаются

в директории, указанной параметром datadir в конфигурационном файле.

На Ubuntu 22.04 это обычно /var/lib/mysql/

***Как сделать резервную копию базы данных и затем её восстановить?***

*1*

*. Создание резервной копии (бэкапа):*

1

2

3

. Сжатая резервная копия с датой (рекомендуется)

. mysqldump: Утилита для создания дампа базы данных.

.

> \* -u root -p: Подключение как пользователь root (запросит

пароль).

4

5

6

.

.

.

> \* addressbook: Имя базы данных для бэкапа.
>
> \* \| gzip: Сжимает вывод в формат Gzip.
>
> \* \> /var/backup/\...: Перенаправляет вывод в файл с именем,

включающим дату и время.

*2*

*. Восстановление резервной копии:*

1

. Создать базу данных

2

. Восстановить данные из сжатого файла

> i\. zcat: Распаковывает .gz файл и выводит его содержимое
>
> на стандартный вывод.

ii\. \| mysql -u root -p addressbook: Перенаправляет

> распакованный SQL-скрипт в базу данных addressbook
>
> через клиент mysql.
